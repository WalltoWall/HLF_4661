import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks'
import faker from 'faker'
import { buildImgixFluid } from 'gatsby-plugin-imgix'

import * as Storybook from '../components/Storybook'
import { titleize } from '../lib/titleize'

import { PageBodyHeroImage } from './PageBodyHeroImage'

export const textHTML = `
  <h1>${titleize(faker.lorem.words(4))}</h1>
  <p>${faker.lorem.sentences(2)}</p>
`

export const shortTextHTML = `
  <h1>${titleize(faker.lorem.words(3))}</h1>
`

export const backgroundImage = buildImgixFluid({
  url: 'https://images.prismic.io/omidyarfellows/a0e8ae76-e0d6-4950-8a11-31ecd0dcef7e_PADDLEBLOCK2.jpg',
  sourceWidth: 1024,
  sourceHeight: 368,
})

<Meta title="Pages/Hero Image" component={PageBodyHeroImage} />

##### Page

# Hero Image

Large hero image with text placed over the image. This block is typically used
as the main heading for a page above its body content.

#### Slice fields

<Storybook.SliceFieldsTable
  customTypeId="page"
  sliceZoneId="body"
  sliceId="hero_image"
  fieldset="non-repeat"
  overrides={{
    background_image: {
      description: 'Background image behind the text',
      isRequired: false,
    }
  }}
/>

### With background image

The background image is placed behind the text.

<Canvas withSource="none">
  <Story name="With background image">
    <PageBodyHeroImage
      nextSharesBg={false}
      textHTML={textHTML}
      buttonHref="#"
      backgroundImageFluid={backgroundImage}
    />
  </Story>
</Canvas>

### With reduced height

If the "Reduced height" variant is selected, the Slice's height is reduced. The
reduced height matches Interior Page's Hero Image slice. All fields can still
be used, including small descriptive text and an optional button.

**Note**: The slice may increase in height if the text cannot fit within the
reduced height.

<Canvas withSource="none">
  <Story name="With reduced height">
    <PageBodyHeroImage
      variant="Reduced height"
      nextSharesBg={false}
      textHTML={shortTextHTML}
      buttonHref="#"
      backgroundImageFluid={backgroundImage}
    />
  </Story>
</Canvas>

### Without background image

If no background image is provided, a default background color is used instead.

<Canvas withSource="none">
  <Story name="Without background image">
    <PageBodyHeroImage
      nextSharesBg={false}
      textHTML={textHTML}
      buttonHref="#"
    />
  </Story>
</Canvas>
