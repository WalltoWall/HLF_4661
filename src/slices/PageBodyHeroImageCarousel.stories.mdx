import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks'
import faker from 'faker'
import { getGatsbyImageData } from '@imgix/gatsby'

import * as Storybook from '../components/Storybook'
import { titleize } from '../lib/titleize'

import { PageBodyHeroImageCarousel } from './PageBodyHeroImageCarousel'

export const textHTML = `
  <h1>${titleize(faker.lorem.words(4))}</h1>
  <p>${faker.lorem.sentences(2)}</p>
`

export const images = [
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1518776139882-8534d0198d62',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1512737717560-1fe5bcd648ca',
    aspectRatio: 4 / 3,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1496796287614-718d5ecf0229',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
]

<Meta title="Pages/Hero Image Carousel" component={PageBodyHeroImageCarousel} />

##### Page

# Hero Image Carousel

Large hero images with text placed over the images in an automatically cycling
carousel. This slice is identical to the Hero Image Slice, but with support for
multiple slides displayed in a carousel.

#### Repeatable fields

Each item represents a slide with a background image, text, and optional button.

<Storybook.SliceFieldsTable
  customTypeId="page"
  sliceZoneId="body"
  sliceId="hero_image_carousel"
  fieldset="repeat"
  overrides={{
    background_image: {
      description: 'Background image behind the text',
      isRequired: false,
    },
  }}
/>

### With three slides

One slide is shown at a time. The user can manually navigate through the slides
if desired.

<Canvas withSource="none">
  <Story name="With three slides">
    <PageBodyHeroImageCarousel nextSharesBg={false}>
      {images.map((image, i) => (
        <PageBodyHeroImageCarousel.Slide
          key={i}
          textHTML={textHTML}
          buttonHref="#"
          backgroundImageData={image}
        />
      ))}
    </PageBodyHeroImageCarousel>
  </Story>
</Canvas>
