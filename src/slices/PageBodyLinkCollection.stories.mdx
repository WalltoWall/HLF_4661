import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks'
import { getGatsbyImageData } from '@imgix/gatsby'
import faker from 'faker'

import * as Storybook from '../components/Storybook'
import { titleize } from '../lib/titleize'

import { PageBodyLinkCollection } from './PageBodyLinkCollection'

export const thumbnails = [
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1607166303098-19ed940446bd',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1555116505-38ab61800975',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1604851880472-376ce53d3244',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1542626991-cbc4e32524cc',
    aspectRatio: 4 / 3,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1592149798279-eeb1b9dd8045',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
]

<Meta title="Pages/Link Collection" component={PageBodyLinkCollection} />

##### Page

# Link Collection

A collection of links with optional thumbnails and short descriptions. Links in
a Link Collection should be related in some way. This slice works nicely when
preceded by a Text slice describing the group of links.

#### Repeatable fields

Each item represents a link with an optional thumbnail and description.

<Storybook.SliceFieldsTable
  customTypeId="page"
  sliceZoneId="body"
  sliceId="link_collection"
  fieldset="repeat"
  overrides={{
    thumbnail: {
      description: 'Thumbnail to display with the link',
    },
  }}
/>

### With many links

This slice supports any number of links. The following example demonstrate what
this slice looks like with several links.

<Canvas withSource="none">
  <Story name="With many links">
    <PageBodyLinkCollection nextSharesBg={false}>
      {thumbnails.map((thumbnail, i) => (
        <PageBodyLinkCollection.Link
          key={i}
          name={titleize(faker.lorem.words(3))}
          description={faker.lorem.sentence()}
          href="#"
          thumbnailData={thumbnail}
        />
      ))}
    </PageBodyLinkCollection>
  </Story>
</Canvas>

### With one link

Although this slice can support any number of links, it is recommended to
include more than one.

<Canvas withSource="none">
  <Story name="With one link">
    <PageBodyLinkCollection nextSharesBg={false}>
      <PageBodyLinkCollection.Link
        name={titleize(faker.lorem.words(3))}
        description={faker.lorem.sentence()}
        href="#"
        thumbnailData={thumbnails[0]}
      />
    </PageBodyLinkCollection>
  </Story>
</Canvas>
