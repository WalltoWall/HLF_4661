import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks'
import faker from 'faker'
import { getGatsbyImageData } from '@imgix/gatsby'

import * as Storybook from '../components/Storybook'

import PageBodyImageCarousel from './PageBodyImageCarousel'

export const images = [
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1551806406-553417833005',
    aspectRatio: 4 / 3,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1598644612563-82fbfa1bf2dd',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1604011854873-76e939ef5a5e',
    aspectRatio: 4 / 3,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7',
    aspectRatio: 1,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1600585152220-90363fe7e115',
    aspectRatio: 4 / 3,
    layout: 'fullWidth',
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1606820049560-cfaa8cba5859',
    aspectRatio: 3 / 4,
    layout: 'fullWidth',
  }),
]

<Meta title="Pages/Image Carousel" component={PageBodyImageCarousel} />

##### Page

# Image Carousel

A set of images or photos displayed in an interactive carousel with optional
captions.

Images will be resized/scaled as necessary to fit within the Slice's dimensions.
The Slice's size is optimized for 4:3 images. Other aspect ratios will be scaled
to fit within 4:3. In most cases, you can select any image without needing to
perform additional cropping or resizing.

Images will **not** be cropped to fit the Slice since doing so could
inadvertantly remove critical portions of an image.

#### Repeatable fields

Each item represents an image and optional caption.

<Storybook.SliceFieldsTable
  customTypeId="page"
  sliceZoneId="body"
  sliceId="image_carousel"
  fieldset="repeat"
  overrides={{ image: { description: 'Image to display' } }}
/>

### With many images

Images are shown one at a time in a carousel.

<Canvas withSource="none">
  <Story name="With many images">
    <PageBodyImageCarousel nextSharesBg={false}>
      {images.map((image, i) => (
        <PageBodyImageCarousel.Image
          key={i}
          imageData={image}
          captionHTML={`<p>${faker.lorem.sentences(2)}</p>`}
        />
      ))}
    </PageBodyImageCarousel>
  </Story>
</Canvas>

### With one image

This slice can support one or more images.

<Canvas withSource="none">
  <Story name="With one image">
    <PageBodyImageCarousel nextSharesBg={false}>
      <PageBodyImageCarousel.Image
        imageData={images[0]}
        captionHTML={`<p>${faker.lorem.sentences(2)}</p>`}
      />
    </PageBodyImageCarousel>
  </Story>
</Canvas>
