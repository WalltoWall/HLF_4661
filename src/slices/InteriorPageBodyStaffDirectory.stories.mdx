import { Meta, Story, Canvas, Props } from '@storybook/addon-docs/blocks'
import faker from 'faker'
import { getGatsbyImageData } from '@imgix/gatsby'

import * as Storybook from '../components/Storybook'

import InteriorPageBodyStaffDirectory from './InteriorPageBodyStaffDirectory'

export const photos = [
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91',
    layout: 'fullWidth',
    aspectRatio: 3 / 4,
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1487309078313-fad80c3ec1e5',
    layout: 'fullWidth',
    aspectRatio: 3 / 4,
  }),
  getGatsbyImageData({
    url: 'https://images.unsplash.com/photo-1531123897727-8f129e1688ce',
    layout: 'fullWidth',
    aspectRatio: 3 / 4,
  }),
]

export const biographyHTML = `
  <p>${faker.lorem.paragraph()}</p>
  <p>${faker.lorem.paragraph()}</p>
`

<Meta
  title="Interior Pages/Staff Directory"
  component={InteriorPageBodyStaffDirectory}
/>

##### Interior Page

# Staff Directory

Displays a list of staff members with their name, title, photo, and short
biography. A directory is included above the individual staff members' info to
allow users to quickly jump down to a staff member.

#### Repeatable fields

Each item represents a staff member and their info.

<Storybook.SliceFieldsTable
  customTypeId="interior_page"
  sliceZoneId="body"
  sliceId="staff_directory"
  fieldset="repeat"
  overrides={{ photo: { description: 'Photo of the staff member' } }}
/>

### With three staff members

This slice can support one or more images.

<Canvas withSource="none">
  <Story name="With three staff members">
    <InteriorPageBodyStaffDirectory nextSharesBg={false}>
      {Array(3)
        .fill()
        .map((_, i) => (
          <InteriorPageBodyStaffDirectory.StaffMember
            name={faker.name.findName()}
            title={faker.name.jobTitle()}
            biographyHTML={biographyHTML}
            photoData={photos[i]}
          />
        ))}
    </InteriorPageBodyStaffDirectory>
  </Story>
</Canvas>

### With one staff member

If only one staff member is included, the directory is removed.

<Canvas withSource="none">
  <Story name="With one staff member">
    <InteriorPageBodyStaffDirectory nextSharesBg={false}>
      <InteriorPageBodyStaffDirectory.StaffMember
        name={faker.name.findName()}
        title={faker.name.jobTitle()}
        biographyHTML={biographyHTML}
        photoData={photos[0]}
      />
    </InteriorPageBodyStaffDirectory>
  </Story>
</Canvas>
